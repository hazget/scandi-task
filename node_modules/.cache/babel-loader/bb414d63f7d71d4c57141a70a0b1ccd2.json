{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\scandi-task\\\\client\\\\src\\\\pages\\\\ProductListingPage.jsx\";\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport cartIcon from \"../icons/cart_icon_circle.svg\";\nimport { newCartItem } from '../features/cart/cartSlice';\nimport withParams from '../components/withParams';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CategoryName = styled.h1`\n  font-weight: normal;\n  text-transform: capitalize;\n  margin-bottom: 103px;\n  font-size: 42px;\n`;\n_c = CategoryName;\nconst ProductImage = styled.img`\n  width: 354px;\n  height: 330px;\n  object-fit: cover;\n`;\n_c2 = ProductImage;\nconst ProductContainer = styled.a`\n  width: 354px;\n  height: 412px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-direction: column;\n  padding: 16px;\n  box-shadow: none;\n  transition: 300ms;\n  &:hover {\n    box-shadow: 0px 4px 35px 8px hsla(210, 5%, 67%, 0.19);\n    transition: box-shadow 300ms;\n  }\n  margin-bottom: 103px;\n  cursor: pointer;\n  text-decoration: none;\n`;\n_c3 = ProductContainer;\nconst ProductName = styled.h3`\n  font-weight: 300;\n  font-size: 18;\n`;\n_c4 = ProductName;\nconst ProductPrice = styled.p`\n  font-weight: 500;\n  font-size: 18;\n`;\n_c5 = ProductPrice;\nconst ProductInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n`;\n_c6 = ProductInfo;\nconst Container = styled.div`\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  &:after {\n    display: block;\n    content: \"\";\n    margin: 2px;\n    flex: 999 999 auto;\n  }\n`;\n_c7 = Container;\nconst Circle = styled.div`\n  width: 52px;\n  height: 52px;\n  background-color: #5ECE7B;\n  position: absolute;\n  top: 318px;\n  left: 290px;\n  border-radius: 50%;\n  visibility: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: 300ms;\n  opacity: 0;\n  box-shadow: 0px 4px 11px 2px rgba(29, 31, 34, 0.1);\n  cursor: pointer;\n`;\n_c8 = Circle;\nconst StockText = styled.p`\n  position: absolute;\n  font-weight: 400;\n  font-size: 24px;\n  color: #8D8F9A;\n  top: 162px;\n  right: 107px;\n`;\n_c9 = StockText;\nconst MainContainer = styled.div`\n  position: relative;\n  &:hover {\n    ${Circle} {\n      visibility: visible;\n      opacity: 1;\n      transition: visibility 0ms, opacity 300ms linear;\n    }\n  }\n  ${props => props.isOutOfStock && `\n    opacity: 0.5;\n  `}\n`;\n_c10 = MainContainer;\nexport class ProductListingPage extends Component {\n  addProductHandler(pr) {\n    const product = JSON.parse(JSON.stringify(pr));\n    product.amount = 1;\n\n    for (const key in product) {\n      if (Object.hasOwnProperty.call(product, key)) {\n        if (key === \"attributes\") {\n          for (const set of product[key]) {\n            for (const item of set[\"items\"]) {\n              item.isSelected = false;\n            }\n          }\n        }\n      }\n    }\n\n    if (product.attributes.length === 0) {\n      this.props.dispatch(newCartItem({\n        product\n      }));\n    }\n  }\n\n  render() {\n    const products = this.props.data;\n    const curr = this.props.currency.currency;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(CategoryName, {\n        children: this.props.category\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: products.map(product => /*#__PURE__*/_jsxDEV(MainContainer, {\n          isOutOfStock: !product.inStock,\n          children: [/*#__PURE__*/_jsxDEV(ProductContainer, {\n            href: `/product/${product.id}`,\n            children: [!product.inStock && /*#__PURE__*/_jsxDEV(StockText, {\n              children: \"OUT OF STOCK\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 38\n            }, this), /*#__PURE__*/_jsxDEV(ProductImage, {\n              src: product.gallery[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ProductInfo, {\n              children: [/*#__PURE__*/_jsxDEV(ProductName, {\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ProductPrice, {\n                children: [curr.symbol, product.prices.find(price => price.currency.label === curr.label).amount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Circle, {\n            onClick: () => this.addProductHandler(product),\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: cartIcon,\n              alt: true,\n              style: {\n                width: \"24px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this)]\n        }, product.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\nexport default _c11 = withParams(ProductListingPage, [\"currency\"]);\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n\n$RefreshReg$(_c, \"CategoryName\");\n$RefreshReg$(_c2, \"ProductImage\");\n$RefreshReg$(_c3, \"ProductContainer\");\n$RefreshReg$(_c4, \"ProductName\");\n$RefreshReg$(_c5, \"ProductPrice\");\n$RefreshReg$(_c6, \"ProductInfo\");\n$RefreshReg$(_c7, \"Container\");\n$RefreshReg$(_c8, \"Circle\");\n$RefreshReg$(_c9, \"StockText\");\n$RefreshReg$(_c10, \"MainContainer\");\n$RefreshReg$(_c11, \"%default%\");","map":{"version":3,"names":["React","Component","styled","cartIcon","newCartItem","withParams","CategoryName","h1","ProductImage","img","ProductContainer","a","ProductName","h3","ProductPrice","p","ProductInfo","div","Container","Circle","StockText","MainContainer","props","isOutOfStock","ProductListingPage","addProductHandler","pr","product","JSON","parse","stringify","amount","key","Object","hasOwnProperty","call","set","item","isSelected","attributes","length","dispatch","render","products","data","curr","currency","category","map","inStock","id","gallery","name","symbol","prices","find","price","label","width"],"sources":["D:/projects/scandi-task/client/src/pages/ProductListingPage.jsx"],"sourcesContent":["import React, { Component } from 'react'\r\nimport styled from 'styled-components';\r\nimport cartIcon from \"../icons/cart_icon_circle.svg\";\r\nimport { newCartItem } from '../features/cart/cartSlice';\r\nimport withParams from '../components/withParams';\r\n\r\nconst CategoryName = styled.h1`\r\n  font-weight: normal;\r\n  text-transform: capitalize;\r\n  margin-bottom: 103px;\r\n  font-size: 42px;\r\n`\r\n\r\nconst ProductImage = styled.img`\r\n  width: 354px;\r\n  height: 330px;\r\n  object-fit: cover;\r\n`\r\n\r\nconst ProductContainer = styled.a`\r\n  width: 354px;\r\n  height: 412px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  padding: 16px;\r\n  box-shadow: none;\r\n  transition: 300ms;\r\n  &:hover {\r\n    box-shadow: 0px 4px 35px 8px hsla(210, 5%, 67%, 0.19);\r\n    transition: box-shadow 300ms;\r\n  }\r\n  margin-bottom: 103px;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n`\r\n\r\nconst ProductName = styled.h3`\r\n  font-weight: 300;\r\n  font-size: 18;\r\n`\r\n\r\nconst ProductPrice = styled.p`\r\n  font-weight: 500;\r\n  font-size: 18;\r\n`\r\n\r\nconst ProductInfo = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n`\r\n\r\nconst Container = styled.div`\r\n  display: grid;\r\n  grid-gap: 16px;\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  &:after {\r\n    display: block;\r\n    content: \"\";\r\n    margin: 2px;\r\n    flex: 999 999 auto;\r\n  }\r\n`\r\n\r\nconst Circle = styled.div`\r\n  width: 52px;\r\n  height: 52px;\r\n  background-color: #5ECE7B;\r\n  position: absolute;\r\n  top: 318px;\r\n  left: 290px;\r\n  border-radius: 50%;\r\n  visibility: hidden;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  transition: 300ms;\r\n  opacity: 0;\r\n  box-shadow: 0px 4px 11px 2px rgba(29, 31, 34, 0.1);\r\n  cursor: pointer;\r\n`\r\n\r\nconst StockText = styled.p`\r\n  position: absolute;\r\n  font-weight: 400;\r\n  font-size: 24px;\r\n  color: #8D8F9A;\r\n  top: 162px;\r\n  right: 107px;\r\n`\r\n\r\nconst MainContainer = styled.div`\r\n  position: relative;\r\n  &:hover {\r\n    ${Circle} {\r\n      visibility: visible;\r\n      opacity: 1;\r\n      transition: visibility 0ms, opacity 300ms linear;\r\n    }\r\n  }\r\n  ${props => props.isOutOfStock && `\r\n    opacity: 0.5;\r\n  `}\r\n`\r\n\r\nexport class ProductListingPage extends Component {\r\n  addProductHandler(pr) {\r\n    const product = JSON.parse(JSON.stringify(pr));\r\n    product.amount = 1;\r\n    for (const key in product) {\r\n      if (Object.hasOwnProperty.call(product, key)) {\r\n        if (key === \"attributes\") {\r\n          for (const set of product[key]) {\r\n            for (const item of set[\"items\"]) {\r\n              item.isSelected = false;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (product.attributes.length === 0) {\r\n      this.props.dispatch(newCartItem({product}));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const products = this.props.data;\r\n    const curr = this.props.currency.currency;\r\n    return (\r\n      <>\r\n        <CategoryName>{this.props.category}</CategoryName>\r\n        <Container>\r\n          {products.map(product => (\r\n            <MainContainer key={product.id} isOutOfStock={!product.inStock}>\r\n              <ProductContainer href={`/product/${product.id}`}>\r\n                {!product.inStock && <StockText>OUT OF STOCK</StockText>}\r\n                <ProductImage src={product.gallery[0]} />\r\n                <ProductInfo>\r\n                  <ProductName>{product.name}</ProductName>\r\n                  <ProductPrice>{curr.symbol}{product.prices.find(price => price.currency.label === curr.label).amount}</ProductPrice>\r\n                </ProductInfo>\r\n              </ProductContainer>\r\n              <Circle onClick={() => this.addProductHandler(product)}>\r\n                <img src={cartIcon} alt style={{width: \"24px\"}} />\r\n              </Circle>\r\n            </MainContainer>\r\n          ))}\r\n        </Container>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withParams(ProductListingPage, [\"currency\"]);"],"mappings":"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"},"metadata":{},"sourceType":"module"}