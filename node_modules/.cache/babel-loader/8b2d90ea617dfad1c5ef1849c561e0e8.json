{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\scandi-task\\\\client\\\\src\\\\pages\\\\ProductDescriptionPage.jsx\";\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport AttributeSet from '../components/Attributes/AttributeSet';\nimport { setProduct } from '../features/set_product/setProductSlice';\nimport AddToCart from '../components/AddToCart';\nimport withParams from '../components/withParams';\nimport DOMPurify from \"dompurify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GalleryContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-right: 40px;\n`;\n_c = GalleryContainer;\nconst GalleryImage = styled.img`\n  width: 80px;\n  height: 80px;\n  margin-bottom: 40px;\n  object-fit: cover;\n  cursor: pointer;\n`;\n_c2 = GalleryImage;\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n`;\n_c3 = Container;\nconst ViewImage = styled.img`\n  object-fit: contain;\n  max-height: 511px;\n  max-width: 610px;\n`;\n_c4 = ViewImage;\nconst ImagesContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n_c5 = ImagesContainer;\nconst ProductInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-left: 100px;\n  margin-right: 118px;\n`;\n_c6 = ProductInfo;\nconst ProductName = styled.h2`\n  font-weight: 600;\n  font-size: 30px;\n`;\n_c7 = ProductName;\nconst ProductDescription = styled.div`\n  margin-top: 20px;\n  &, * {\n    font-family: 'Roboto', sans-serif;\n  }\n`;\n_c8 = ProductDescription;\nconst PriceTag = styled.h3`\n  font-family: 'Roboto', sans-serif !important;\n  font-weight: 700;\n  font-size: 18px;\n  margin-top: 43px;\n`;\n_c9 = PriceTag;\nconst Price = styled.p`\n  font-weight: 700;\n  font-size: 24px;\n  margin-top: 20px;\n  margin-bottom: 5px;\n`;\n_c10 = Price;\n\nclass ProductDescriptionPage extends Component {\n  constructor(props) {\n    super(props);\n    this.product = this.props.data.find(p => p.id === this.props.params.id);\n\n    this.imgClickHandler = pic => {\n      this.setState({\n        showImage: pic\n      });\n    };\n\n    this.state = {\n      showImage: this.product.gallery[0]\n    };\n  }\n\n  render() {\n    const product = JSON.parse(JSON.stringify(this.product));\n    product.amount = 1;\n    const curr = this.props.currency.currency;\n    const descriptionSafe = DOMPurify.sanitize(this.product.description);\n\n    for (const key in product) {\n      if (Object.hasOwnProperty.call(product, key)) {\n        if (key === \"attributes\") {\n          for (const set of product[key]) {\n            for (const item of set[\"items\"]) {\n              item.isSelected = false;\n            }\n          }\n        }\n      }\n    }\n\n    this.props.dispatch(setProduct(product));\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(ImagesContainer, {\n        children: [/*#__PURE__*/_jsxDEV(GalleryContainer, {\n          children: this.product.gallery.map(pic => {\n            return /*#__PURE__*/_jsxDEV(GalleryImage, {\n              onClick: () => this.imgClickHandler(pic),\n              src: pic\n            }, Math.floor(Math.random() * 1000000).toString(), false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 22\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ViewImage, {\n          src: this.state.showImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProductInfo, {\n        children: [/*#__PURE__*/_jsxDEV(ProductName, {\n          children: this.product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), this.product.attributes.map(attr => {\n          return /*#__PURE__*/_jsxDEV(AttributeSet, {\n            attr: attr\n          }, Math.floor(Math.random() * 1000000).toString(), false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 20\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(PriceTag, {\n          children: \"PRICE:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Price, {\n          children: [curr.symbol, product.prices.find(price => price.currency.label === curr.label).amount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AddToCart, {\n          isInStock: product.inStock\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductDescription, {\n          dangerouslySetInnerHTML: {\n            __html: descriptionSafe\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c11 = withParams(ProductDescriptionPage, [\"currency\"]);\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n\n$RefreshReg$(_c, \"GalleryContainer\");\n$RefreshReg$(_c2, \"GalleryImage\");\n$RefreshReg$(_c3, \"Container\");\n$RefreshReg$(_c4, \"ViewImage\");\n$RefreshReg$(_c5, \"ImagesContainer\");\n$RefreshReg$(_c6, \"ProductInfo\");\n$RefreshReg$(_c7, \"ProductName\");\n$RefreshReg$(_c8, \"ProductDescription\");\n$RefreshReg$(_c9, \"PriceTag\");\n$RefreshReg$(_c10, \"Price\");\n$RefreshReg$(_c11, \"%default%\");","map":{"version":3,"names":["React","Component","styled","AttributeSet","setProduct","AddToCart","withParams","DOMPurify","GalleryContainer","div","GalleryImage","img","Container","ViewImage","ImagesContainer","ProductInfo","ProductName","h2","ProductDescription","PriceTag","h3","Price","p","ProductDescriptionPage","constructor","props","product","data","find","id","params","imgClickHandler","pic","setState","showImage","state","gallery","render","JSON","parse","stringify","amount","curr","currency","descriptionSafe","sanitize","description","key","Object","hasOwnProperty","call","set","item","isSelected","dispatch","map","Math","floor","random","toString","name","attributes","attr","symbol","prices","price","label","inStock","__html"],"sources":["D:/projects/scandi-task/client/src/pages/ProductDescriptionPage.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport AttributeSet from '../components/Attributes/AttributeSet';\r\nimport { setProduct } from '../features/set_product/setProductSlice';\r\nimport AddToCart from '../components/AddToCart';\r\nimport withParams from '../components/withParams';\r\nimport DOMPurify from \"dompurify\";\r\n\r\nconst GalleryContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-right: 40px;\r\n`\r\n\r\nconst GalleryImage = styled.img`\r\n  width: 80px;\r\n  height: 80px;\r\n  margin-bottom: 40px;\r\n  object-fit: cover;\r\n  cursor: pointer;\r\n`\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n`\r\n\r\nconst ViewImage = styled.img`\r\n  object-fit: contain;\r\n  max-height: 511px;\r\n  max-width: 610px;\r\n`\r\n\r\nconst ImagesContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`\r\n\r\nconst ProductInfo = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-left: 100px;\r\n  margin-right: 118px;\r\n`\r\n\r\nconst ProductName = styled.h2`\r\n  font-weight: 600;\r\n  font-size: 30px;\r\n`\r\n\r\nconst ProductDescription = styled.div`\r\n  margin-top: 20px;\r\n  &, * {\r\n    font-family: 'Roboto', sans-serif;\r\n  }\r\n`\r\n\r\nconst PriceTag = styled.h3`\r\n  font-family: 'Roboto', sans-serif !important;\r\n  font-weight: 700;\r\n  font-size: 18px;\r\n  margin-top: 43px;\r\n`\r\n\r\nconst Price = styled.p`\r\n  font-weight: 700;\r\n  font-size: 24px;\r\n  margin-top: 20px;\r\n  margin-bottom: 5px;\r\n`\r\n\r\nclass ProductDescriptionPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showImage: this.product.gallery[0],\r\n    };\r\n  }\r\n\r\n  product = this.props.data.find(p => p.id === this.props.params.id);\r\n\r\n  imgClickHandler = (pic) => {\r\n    this.setState({showImage: pic});\r\n  }\r\n\r\n  render() {\r\n    const product = JSON.parse(JSON.stringify(this.product));\r\n    product.amount = 1;\r\n    const curr = this.props.currency.currency;\r\n    const descriptionSafe = DOMPurify.sanitize(this.product.description);\r\n\r\n    for (const key in product) {\r\n      if (Object.hasOwnProperty.call(product, key)) {\r\n        if (key === \"attributes\") {\r\n          for (const set of product[key]) {\r\n            for (const item of set[\"items\"]) {\r\n              item.isSelected = false;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.props.dispatch(setProduct(product));\r\n    return (\r\n      <Container>\r\n        <ImagesContainer>\r\n          <GalleryContainer>\r\n            {this.product.gallery.map(pic => {\r\n              return <GalleryImage onClick={() => this.imgClickHandler(pic)} key={Math.floor(Math.random()*1000000).toString()} src={pic} />\r\n            })}\r\n          </GalleryContainer>\r\n          <ViewImage src={this.state.showImage} />\r\n        </ImagesContainer>\r\n        <ProductInfo>\r\n          <ProductName>{this.product.name}</ProductName>\r\n          {this.product.attributes.map(attr => {\r\n            return <AttributeSet key={Math.floor(Math.random()*1000000).toString()} attr={attr} />\r\n          })}\r\n          <PriceTag>PRICE:</PriceTag>\r\n          <Price>{curr.symbol}{product.prices.find(price => price.currency.label === curr.label).amount}</Price>\r\n          <AddToCart isInStock={product.inStock}/>\r\n          <ProductDescription\r\n            dangerouslySetInnerHTML={{\r\n            __html: descriptionSafe,\r\n            }}\r\n          ></ProductDescription>\r\n        </ProductInfo>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withParams(ProductDescriptionPage, [\"currency\"]);"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,YAAP,MAAyB,uCAAzB;AACA,SAASC,UAAT,QAA2B,yCAA3B;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,SAAP,MAAsB,WAAtB;;AAEA,MAAMC,gBAAgB,GAAGN,MAAM,CAACO,GAAI;AACpC;AACA;AACA;AACA,CAJA;KAAMD,gB;AAMN,MAAME,YAAY,GAAGR,MAAM,CAACS,GAAI;AAChC;AACA;AACA;AACA;AACA;AACA,CANA;MAAMD,Y;AAQN,MAAME,SAAS,GAAGV,MAAM,CAACO,GAAI;AAC7B;AACA;AACA;AACA,CAJA;MAAMG,S;AAMN,MAAMC,SAAS,GAAGX,MAAM,CAACS,GAAI;AAC7B;AACA;AACA;AACA,CAJA;MAAME,S;AAMN,MAAMC,eAAe,GAAGZ,MAAM,CAACO,GAAI;AACnC;AACA;AACA,CAHA;MAAMK,e;AAKN,MAAMC,WAAW,GAAGb,MAAM,CAACO,GAAI;AAC/B;AACA;AACA;AACA;AACA,CALA;MAAMM,W;AAON,MAAMC,WAAW,GAAGd,MAAM,CAACe,EAAG;AAC9B;AACA;AACA,CAHA;MAAMD,W;AAKN,MAAME,kBAAkB,GAAGhB,MAAM,CAACO,GAAI;AACtC;AACA;AACA;AACA;AACA,CALA;MAAMS,kB;AAON,MAAMC,QAAQ,GAAGjB,MAAM,CAACkB,EAAG;AAC3B;AACA;AACA;AACA;AACA,CALA;MAAMD,Q;AAON,MAAME,KAAK,GAAGnB,MAAM,CAACoB,CAAE;AACvB;AACA;AACA;AACA;AACA,CALA;OAAMD,K;;AAON,MAAME,sBAAN,SAAqCtB,SAArC,CAA+C;EAC7CuB,WAAW,CAACC,KAAD,EAAQ;IACjB,MAAMA,KAAN;IADiB,KAOnBC,OAPmB,GAOT,KAAKD,KAAL,CAAWE,IAAX,CAAgBC,IAAhB,CAAqBN,CAAC,IAAIA,CAAC,CAACO,EAAF,KAAS,KAAKJ,KAAL,CAAWK,MAAX,CAAkBD,EAArD,CAPS;;IAAA,KASnBE,eATmB,GASAC,GAAD,IAAS;MACzB,KAAKC,QAAL,CAAc;QAACC,SAAS,EAAEF;MAAZ,CAAd;IACD,CAXkB;;IAEjB,KAAKG,KAAL,GAAa;MACXD,SAAS,EAAE,KAAKR,OAAL,CAAaU,OAAb,CAAqB,CAArB;IADA,CAAb;EAGD;;EAQDC,MAAM,GAAG;IACP,MAAMX,OAAO,GAAGY,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKd,OAApB,CAAX,CAAhB;IACAA,OAAO,CAACe,MAAR,GAAiB,CAAjB;IACA,MAAMC,IAAI,GAAG,KAAKjB,KAAL,CAAWkB,QAAX,CAAoBA,QAAjC;IACA,MAAMC,eAAe,GAAGrC,SAAS,CAACsC,QAAV,CAAmB,KAAKnB,OAAL,CAAaoB,WAAhC,CAAxB;;IAEA,KAAK,MAAMC,GAAX,IAAkBrB,OAAlB,EAA2B;MACzB,IAAIsB,MAAM,CAACC,cAAP,CAAsBC,IAAtB,CAA2BxB,OAA3B,EAAoCqB,GAApC,CAAJ,EAA8C;QAC5C,IAAIA,GAAG,KAAK,YAAZ,EAA0B;UACxB,KAAK,MAAMI,GAAX,IAAkBzB,OAAO,CAACqB,GAAD,CAAzB,EAAgC;YAC9B,KAAK,MAAMK,IAAX,IAAmBD,GAAG,CAAC,OAAD,CAAtB,EAAiC;cAC/BC,IAAI,CAACC,UAAL,GAAkB,KAAlB;YACD;UACF;QACF;MACF;IACF;;IACD,KAAK5B,KAAL,CAAW6B,QAAX,CAAoBlD,UAAU,CAACsB,OAAD,CAA9B;IACA,oBACE,QAAC,SAAD;MAAA,wBACE,QAAC,eAAD;QAAA,wBACE,QAAC,gBAAD;UAAA,UACG,KAAKA,OAAL,CAAaU,OAAb,CAAqBmB,GAArB,CAAyBvB,GAAG,IAAI;YAC/B,oBAAO,QAAC,YAAD;cAAc,OAAO,EAAE,MAAM,KAAKD,eAAL,CAAqBC,GAArB,CAA7B;cAA2G,GAAG,EAAEA;YAAhH,GAA6DwB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAc,OAAzB,EAAkCC,QAAlC,EAA7D;cAAA;cAAA;cAAA;YAAA,QAAP;UACD,CAFA;QADH;UAAA;UAAA;UAAA;QAAA,QADF,eAME,QAAC,SAAD;UAAW,GAAG,EAAE,KAAKxB,KAAL,CAAWD;QAA3B;UAAA;UAAA;UAAA;QAAA,QANF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eASE,QAAC,WAAD;QAAA,wBACE,QAAC,WAAD;UAAA,UAAc,KAAKR,OAAL,CAAakC;QAA3B;UAAA;UAAA;UAAA;QAAA,QADF,EAEG,KAAKlC,OAAL,CAAamC,UAAb,CAAwBN,GAAxB,CAA4BO,IAAI,IAAI;UACnC,oBAAO,QAAC,YAAD;YAAiE,IAAI,EAAEA;UAAvE,GAAmBN,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAc,OAAzB,EAAkCC,QAAlC,EAAnB;YAAA;YAAA;YAAA;UAAA,QAAP;QACD,CAFA,CAFH,eAKE,QAAC,QAAD;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QALF,eAME,QAAC,KAAD;UAAA,WAAQjB,IAAI,CAACqB,MAAb,EAAqBrC,OAAO,CAACsC,MAAR,CAAepC,IAAf,CAAoBqC,KAAK,IAAIA,KAAK,CAACtB,QAAN,CAAeuB,KAAf,KAAyBxB,IAAI,CAACwB,KAA3D,EAAkEzB,MAAvF;QAAA;UAAA;UAAA;UAAA;QAAA,QANF,eAOE,QAAC,SAAD;UAAW,SAAS,EAAEf,OAAO,CAACyC;QAA9B;UAAA;UAAA;UAAA;QAAA,QAPF,eAQE,QAAC,kBAAD;UACE,uBAAuB,EAAE;YACzBC,MAAM,EAAExB;UADiB;QAD3B;UAAA;UAAA;UAAA;QAAA,QARF;MAAA;QAAA;QAAA;QAAA;MAAA,QATF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EA0BD;;AA1D4C;;AA6D/C,sBAAetC,UAAU,CAACiB,sBAAD,EAAyB,CAAC,UAAD,CAAzB,CAAzB"},"metadata":{},"sourceType":"module"}